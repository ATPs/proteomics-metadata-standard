= Investigation description format for Protemics
:sectnums:
:toc: left
:doctype: book
//only works on some backends, not HTML
:showcomments:
//use style like Section 1 when referencing within the document.
:xrefstyle: short
:figure-caption: Figure
:pdf-page-size: A4

//GitHub specific settings
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

== Status of this document

This document provides information to the proteomics community about a proposed standard for sample metadata annotations in public repositories called Sample and Data Relationship File (SDRF)-Proteomics format. Distribution is unlimited.

Version Draft - this is a draft of version 1.0

== Abstract

The MAGE-TAB is composed by two main files SDRF and IDF. The IDF (https://www.ebi.ac.uk/arrayexpress/help/creating_an_idf.html[investigation description format]) aims to capture the general description of the experiment and dataset. Similar to the exiting [ProteomeXchange.xml](http://ftp.pride.ebi.ac.uk/pride/resources/schema/proteomexchange/proteomeXchange-1.4.0.xsd) the IDF capture information about title of the experiment, a general description, or the submitter information.

The IDF describes the project and experiment general characteristics. :

-	The IDF should be compatible with the existing [ProteomeXchange.xml](http://ftp.pride.ebi.ac.uk/pride/resources/schema/proteomexchange/proteomeXchange-1.4.0.xsd).
-	The IDF is a Tab-delimited and key-value pair.

=== IDF Tags

The IDF component of a MAGE-TAB document consists of a set of unique tags attached to their corresponding values in a simple tab-delimited text format. For example, "Experiment Description" should be followed by a free-text description of the experiment. Most of the following fields can be used with more than one value, so that (for example - multiple experimental factors etc) multiple values can be defined in a single IDF file. In such cases the multiple values should be separated by semicolons (";")

== IDF proteomics Tags

=== Investigation Title
The overall title of the investigation. This tag can only have one value.

=== Experiment Description
A short paragraph describing the experiment as free-text. This tag can only have one value. The text should clearly explain what you did in your experiment - this will help the curation team to check and process your MAGE-TAB document.

=== Experimental Design
The experiment design types which are applicable to this study. Typically these terms should come from the Experimental Factor Ontology. The study design class is particularly useful here.

=== Experimental Design Term Source REF
The source of the Experimental Design terms; his must reference one of the Term Source Names defined in the IDF file.

=== Experimental Design Term Accession Number
The accession number for this term, taken from the indicated Term Source.

=== Experimental Factor Name
A user-defined name for each experimental factor studied by the experiment. These experimental factors represent the variables within the investigation (e.g. growth condition, genotype, organism part). The actual values of these variables will be listed in the SDRF file, in "Factor Value [<factor name>]" columns.

=== Experimental Factor Type
A term describing the type of each experimental factor. These terms will usually come from the Experimental Factor Ontology.

=== Experimental Factor Term Source REF
The source of the Experimental Factor Type terms; this must reference one of the Term Source Names defined in the IDF file.

=== Experimental Factor Term Accession Number
The accession number for this term, taken from the indicated Term Source.

=== Person Last Name
The last name of each person associated with the experiment.

=== Person First Name
The first name of each person associated with the experiment.

=== Person Mid Initials
The middle initials of each person associated with the experiment.

=== Person Email
The email address of each person associated with the experiment.

=== Person Phone
The telephone number of each person associated with the experiment.

=== Person Fax
The Fax number of each person associated with the experiment.

=== Person Address
The street address of each person associated with the experiment.

=== Person Affiliation
The organization affiliation for each person associated with the experiment. This tag is mandatory for sequencing submissions.

=== Person Roles
The role(s) performed by each person. Typically these terms should come from the Experimental Factor Ontology. See for example the list of organization role terms. If more than one role is needed per person, the roles should be given as a semicolon (;) delimited list.

=== Person Roles Term Source REF
The source of the Person Roles terms; his must reference one of the Term Source Names defined in the IDF file.

=== Person Roles Term Accession Number
The accession number for this term, taken from the indicated Term Source.

=== Date of Experiment
The date on which the experiment was performed. This tag can only have one value.

=== Public Release Date
The date on which the experimental data will be/was released. You can ask us to change this later. This tag can only have one value.

=== PubMed ID
The PubMed IDs of the publication(s) associated with this investigation (where available).

=== Publication DOI
A Digital Object Identifier (DOI) for each publication (where available).

=== Publication Author List
The list of authors associated with each publication.

=== Publication Title
The title of each publication.

=== Publication Status
A term describing the status of each publication (e.g. submitted, in preparation, published).

=== Publication Status Term Source REF
The source of the Publication Status terms; his must reference one of the Term Source Names defined in the IDF file.

=== Publication Status Term Accession Number
The accession number for this term, taken from the indicated Term Source.

=== Protocol Name
The names of the protocols used within the MAGE-TAB document. These will be referenced in the SDRF in the "Protocol REF" columns.

=== Protocol Type
The type of the protocol, taken from a controlled vocabulary. Typically this term should come from the Experimental Factor Ontology . See for example the list of protocol terms.

=== Protocol Description
A free-text description of the protocol. This text is included in a single tab-delimited field.

=== Protocol Parameters
A semicolon-delimited list of parameter names. These names are used in the SDRF file (as Parameter Value [<parameter name>] headings) to list the values used for each protocol parameter. If more than one parameter was used for a given protocol, they should be separated with semicolons (;).

=== Protocol Software
The software used by the protocol.

=== Protocol Term Source REF
The source of the Protocol Type terms; this must reference one of the Term Source Names defined elsewhere in the IDF file.

=== Protocol Term Accession Number
The accession number for this term, taken from the indicated Term Source.

=== SDRF File
The name(s) of the SDRF file(s) accompanying this IDF file.

== Translation/Conversion between ProteomeXchange XML and IDF

|===
|ProteomeXchange XML Property|IDF Field|comment

|---------------------| MAGE-TAB Version                   |
|Title                | Investigation Title                | Dataset Title
|Description          | Experiment Description             | A general description of the dataset
|Publication Date     | Publication Release Date           |
|                     |                                    |
|Submitter Name       | Person First Name                  | Name of the Submitter
|Submitter Name*      | Person Last Name                   | Last Name of the Submitter
|Submitter Email      | Person Email                       | Submitter Email
|Submitter Affiliation| Person Affiliation	               | Submitter Affiliation
| -----------         | Person Roles                       | Submitter
| -----------         | Person Roles Term Source REF       |
| -----------         | Person Roles Term Accession Number |
|Lab Head Name        | Person First Name                  | Name of the Submitter
|Lab Head Name*       | Person Last Name                   | Last Name of the Submitter
|Lab Head Email       | Person Email                       | Submitter Email
|Lab Head Affiliation | Person Affiliation	               | Submitter Affiliation
| -----------         | Person Roles                       | Submitter
| -----------         | Person Roles Term Source REF       |
| -----------         | Person Roles Term Accession Number |
|                     |                                    |
|---------------------|Experimental Factor Name            |
|---------------------|Experimental Factor Type            |
|                     |                                    |
| Sample Protocol     | Protocol Name                      | Sample Protocol
| --------------------| Protocol Type                      |
| Sample Protocol Text| Protocol Description               | The value of the Sample Description
| Data Protocol       | Protocol Name                      | Data Protocol
| --------------------| Protocol Type                      |
| Data Protocol Text  | Protocol Description               | The value of the Data Description
|                     |                                    |
|SDRF File            | SDRF File                          | Reference to the SDRF file SDRF.tsv

|===

NOTE: *Submitter and Lab Head names are witten in ProteomeXchange as a unique Name. The automatic conversion will try to split into Person First Name and Last Name for IDF.

Example of Contact person in IDF:

image::https://github.com/bigbio/proteomics-metadata-standard/raw/master/sdrf-proteomics/images/contact.png[]

